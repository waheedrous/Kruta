<link rel="stylesheet" href="//kendo.cdn.telerik.com/2017.1.118/styles/kendo.common-bootstrap.min.css" />
<link rel="stylesheet" href="//kendo.cdn.telerik.com/2017.1.118/styles/kendo.bootstrap.min.css" />
<script src="//kendo.cdn.telerik.com/2017.1.118/js/kendo.all.min.js"></script>
<script src="//kendo.cdn.telerik.com/2017.1.118/js/kendo.aspnetmvc.min.js"></script>
@System.Web.Optimization.Scripts.Render("~/Scripts/DocumentQueue.js")


<div class="container-fluid text-right">
    <b class="custom-title-left custom-Queue">Document Queue</b>
    <div class="btn-group custom-btnGrup">
        <button type="button" class="btn warning custom-btn" onclick="doAssign();">ASSIGN</button>
    </div>
    <div class="btn-group custom-btnGrup">
        <button type="button" class="btn warning custom-btn">
            Refresh
        </button>
    </div>
</div>
<!-- Modal Start 1 -->

<div class="container-fluid">
    <div class="row">

        @(Html.Kendo().Grid<HPE.Kruta.Model.Queue>()
      .Name("DocumentQueue")
      .Columns(columns =>
      {
          columns.Bound(c => c.QueueID)
                 .ClientTemplate("<input type='checkbox' id='chkSelect' value='#= QueueID #' />")
                 .Filterable(cc => cc.Enabled(false))
                 .Width(30)
                 .Title("")
                 .HtmlAttributes(new { style = "text-align: center" })
                 .HeaderTemplate("<span title='Select all documents'><input type='checkbox' id='chkSelectAll' /></span>")
                 .HeaderHtmlAttributes(new { style = "text-align: center" })
                 .Sortable(false);
          columns.Bound(c => c.QueueID).Title("ID").Width(150).Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false)));
          columns.Bound(c => c.ReceivedDateTime).Title("Received Date").Format("{0:MM/dd/yyyy}").Width(200);
          columns.Bound(c => c.RecordedDateTime).Title("Recorded Date").Format("{0:MM/dd/yyyy}").Width(200);
          columns.Bound(c => c.Property.ParcelNumber).Title("Parcel Number").Width(200);
          columns.Bound(c => c.Document.DocumentNumber).Title("Document Number").Width(200);
          columns.Bound(c => c.Document.DocumentSubType.Code).Title("Document Type").Width(200);
          columns.Bound(c => c.Department.DepartmentName).ClientTemplate(" #= Department ? Department.DepartmentName : '' # ").Title("Queue/Department").Width(200);
          columns.Bound(c => c.Employee.EmployeeName).ClientTemplate(" #= Employee ? Employee.EmployeeName : '' # ").Title("Assigned To").Width(200);
          columns.Bound(c => c.QueueStatus.Description).Title("Status").Width(200);
          columns.Bound(c => c.Document.DocumentStatus.Description).Title("Document Status").Width(200);
          columns.Bound(c => c.Department.DepartmentCode).ClientTemplate(" #= Department ? Department.DepartmentCode : '' # ").Title("Flagged").Width(200);
      })
      .Scrollable()
      .Sortable()
      .Filterable(ftb => ftb.Mode(GridFilterMode.Row))
      .Selectable()
      .Pageable(pageable => pageable
                            .PageSizes(new string[] { "5", "10", "20", "50", "All" })
                            //.PageSizes(true)
                            .ButtonCount(5))
      .DataSource(dataSource => dataSource
                                .Ajax()
                                .Sort(sort => sort.Add("QueueID").Ascending())
                                .PageSize(10)
                                .Read(read => read.Action("Queues_Read", "DocumentQueue")))
      .Resizable(resize => resize.Columns(true))
      .Reorderable(reorder => reorder.Columns(true))
        )
    </div>
</div>

<div class="modal fade" id="assignModal" role="dialog">
    <div class="modal-dialog custom-popupMain">

        <!-- Modal Content Start -->
        <div class="modal-content custom-popupMain-Content">
            <div class="modal-header custom-popupMain-Header">
                <button type="button" class="close custom-popupMain-Close-Btn" data-dismiss="modal">&times;</button>
                <h6 class="modal-title custom-popupMain-Hr">Assign Document(s) To</h6>
            </div>
            <div class="modal-body">
                <!-- Form Start -->
                <div class="container">
                    <div class="form-group custom-popupMain-Form">

                        <label for="routingControlStaff">Assign To :</label>
                        @Html.DropDownList("RoutingControlStaffList", ViewBag.RoutingControlStaffList as SelectList, new { @class = "form-control form-control-custom", @id = "routingControlStaffList" })
                        @*<select class="form-control form-control-custom" id="routingControlStaffList">
                                <option value="12" selected="selected">Tianxu Li</option>
                                <option value="13">Amanda Elish</option>
                                <option value="14">Rawan Shreim</option>
                                <option value="15">Anna Pavlenko</option>
                                <option value="16">Summer Zhang</option>
                                <option value="17">Salah Ahmad</option>
                            </select>*@
                    </div>
                </div>
                <!-- Form End -->
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-warning custom-popupMain-Footer-Btn" data-dismiss="modal" onclick="showConfirmModal();">Assign</button>
            </div>
        </div>
        <!-- Modal Content End -->

    </div>
</div>

<!-- information Modal Start -->
<div class="modal fade" id="informationModal" role="dialog">
    <div class="modal-dialog custom-popupMain">

        <!-- Modal Content Start -->
        <div class="modal-content custom-popupMain-Content">
            <div class="modal-header custom-popupMain-Header">
                <button type="button" class="close custom-popupMain-Close-Btn" data-dismiss="modal">&times;</button>
                <h6 class="modal-title custom-popupMain-Hr" id="informationModalTitle">Notification</h6>
            </div>
            <div class="modal-body">
                <!-- Form Start -->
                <div class="container">
                    <div class="form-group custom-popupMain-Form">
                        <p id="informationModalMessage">Please select at least one document from the queue.</p>
                    </div>
                </div>
                <!-- Form End -->
            </div>
            <div class="modal-footer">
                <button type="submit" id="informationModalOk" class="btn btn-warning custom-popupMain-Footer-Btn" data-dismiss="modal">Ok</button>
            </div>
        </div>
        <!-- Modal Content End -->

    </div>
</div>
<!-- information Modal End -->
<!-- Confirmation Modal Start -->
<div class="modal fade" id="confirmationModal" role="dialog">
    <div class="modal-dialog custom-popupMain">

        <!-- Modal Content Start -->
        <div class="modal-content custom-popupMain-Content">
            <div class="modal-header custom-popupMain-Header">
                <button type="button" class="close custom-popupMain-Close-Btn" data-dismiss="modal">&times;</button>
                <h6 class="modal-title custom-popupMain-Hr" id="modalTitle">Confirmation</h6>
            </div>
            <div class="modal-body">
                <!-- Form Start -->
                <div class="container">
                    <div class="form-group custom-popupMain-Form">
                        <p id="modalMessage">Are you sure you want to assign the selected queue(s)?</p>
                    </div>
                </div>
                <!-- Form End -->
            </div>
            <div class="modal-footer">
                @*<button type="submit" class="btn btn-warning" data-dismiss="modal" style="background-color:#91A2C9; padding: 8px 30px;">Ok</button>*@
                <button id="btnYesConfirmYesNo"
                        type="button" class="btn btn-primary">
                    Yes
                </button>
                <button id="btnNoConfirmYesNo"
                        type="button" class="btn btn-default">
                    No
                </button>
            </div>
        </div>
        <!-- Modal Content End -->

    </div>
</div>
<!-- Confirmation Modal End -->